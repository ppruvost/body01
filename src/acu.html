<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>Radiesthésie</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family: Monospace;
				background-color: ##E7DFD3;
				color: #fff;
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>

<body id="acu">
	<script src="three/build/three.js"></script>
	<!-- CHARGE THREE.JS -->
	<script src="three/loaders/OBJLoader.js"></script>
	<!-- CHARGE LE CHARGEUR D’OBJET -->
	<script src="three/controls/OrbitControls.js"></script>
	<!-- CHARGE LES CONTRÔLES -> ORBIT CONTROLS -->
	<script>
		var container;
		// variable globale déclarée
		var camera, scene, raycaster, renderer;
		// variables globales déclarées
		var mouse = new THREE.Vector2(), INTERSECTED;
		// variable mouse déclarée, et référencée à partir du constructeur Vector2 (vecteur bidimensionnel)

		var mouseX = 0, mouseY = 0;
		// variables globales déclarées

		var windowHalfX = window.innerWidth / 2;
		var windowHalfY = window.innerHeight / 2;

		var acuX = 0, acuY = 0, acuZ = 0; acuXF = 0, acuYF = 0, acuZF = 0;
		// initialisation de variables globales utilisées pour l’animation de la caméra

		var focoCamera = false;
		// variable globale qui contrôlera l’animation de caméra (activer/désactiver l’animation)

		var p = new THREE.Vector3( 0, 0, 0 );
		/* variable p déclarée, et référencée à partir du constructeur Vector3 (vecteur tridimensionnel),
		   initialisée à 0,0,0 */
		var obj = null;
		var obj_aux = null;
		/* DÉBUT DES LISTENERS – VAISSEAU DE CONCEPTION */

			
			vc1 = parent.document.getElementById('vc1');
			vc2.onclick=function() {
				acuPonto('vc1');
			}			
			vc2 = parent.document.getElementById('vc2');
			vc2.onclick=function() {
				acuPonto('vc2');
			}
			vc3 = parent.document.getElementById('vc3');
			vc3.onclick=function() {
				acuPonto('vc3');
			}
			vc4 = parent.document.getElementById('vc4');
			vc4.onclick=function() {
				acuPonto('vc4');
			}
			vc5 = parent.document.getElementById('vc5');
			vc5.onclick=function() {
				acuPonto('vc5');
			}
			vc6 = parent.document.getElementById('vc6');
			vc6.onclick=function() {
				acuPonto('vc6');
			}
			vc7 = parent.document.getElementById('vc7');
			vc7.onclick=function() {
				acuPonto('vc7');
			}
			vc8 = parent.document.getElementById('vc8');
			vc8.onclick=function() {
				acuPonto('vc8');
			}
			vc9 = parent.document.getElementById('vc9');
			vc9.onclick=function() {
				acuPonto('vc9');
			}
			vc10 = parent.document.getElementById('vc10');
			vc10.onclick=function() {
				acuPonto('vc10');
			}
			vc11 = parent.document.getElementById('vc11');
			vc11.onclick=function() {
				acuPonto('vc11');
			}
			vc12 = parent.document.getElementById('vc12');
			vc12.onclick=function() {
				acuPonto('vc12');
			}
			vc13 = parent.document.getElementById('vc13');
			vc13.onclick=function() {
				acuPonto('vc13');
			}
			vc14 = parent.document.getElementById('vc14');
			vc14.onclick=function() {
				acuPonto('vc14');
			}
			vc15 = parent.document.getElementById('vc15');
			vc15.onclick=function() {
				acuPonto('vc15');
			}
			vc16 = parent.document.getElementById('vc16');
			vc16.onclick=function() {
				acuPonto('vc16');
			}
			vc17 = parent.document.getElementById('vc17');
			vc17.onclick=function() {
				acuPonto('vc17');
			}
			vc18 = parent.document.getElementById('vc18');
			vc18.onclick=function() {
				acuPonto('vc18');
			}
			vc19 = parent.document.getElementById('vc19');
			vc19.onclick=function() {
				acuPonto('vc19');
			}
			vc20 = parent.document.getElementById('vc20');
			vc20.onclick=function() {
				acuPonto('vc20');
			}
			vc21 = parent.document.getElementById('vc21');
			vc21.onclick=function() {
				acuPonto('vc21');
			}
			vc22 = parent.document.getElementById('vc22');
			vc22.onclick=function() {
				acuPonto('vc22');
			}
			vc23 = parent.document.getElementById('vc23');
			vc23.onclick=function() {
				acuPonto('vc23');
			}
			vc24 = parent.document.getElementById('vc24');
			vc24.onclick=function() {
				acuPonto('vc24');
			}

			/* FIM LISTENERS VASO CONCEPÇÃO */

			/* INICIO LISTENERS PULMÃO */

			p1 = parent.document.getElementById('p1');
			p1.onclick=function() {
				acuPonto('p1');
			}
			p2 = parent.document.getElementById('p2');
			p2.onclick=function() {
				acuPonto('p2');
			}
			p3 = parent.document.getElementById('p3');
			p3.onclick=function() {
				acuPonto('p3');
			}
			p4 = parent.document.getElementById('p4');
			p4.onclick=function() {
				acuPonto('p4');
			}
			p5 = parent.document.getElementById('p5');
			p5.onclick=function() {
				acuPonto('p5');
			}
			p6 = parent.document.getElementById('p6');
			p6.onclick=function() {
				acuPonto('p6');
			}
			p7 = parent.document.getElementById('p7');
			p7.onclick=function() {
				acuPonto('p7');
			}
			p8 = parent.document.getElementById('p8');
			p8.onclick=function() {
				acuPonto('p8');
			}
			p9 = parent.document.getElementById('p9');
			p9.onclick=function() {
				acuPonto('p9');
			}
			p10 = parent.document.getElementById('p10');
			p10.onclick=function() {
				acuPonto('p10');
			}
			p11 = parent.document.getElementById('p11');
			p11.onclick=function() {
				acuPonto('p11');
			}

			/* FIM LISTENERS PULMÃO */

			/* INICIO LISTENERS INTESTINO GROSSO */

			ig1 = parent.document.getElementById('ig1');
			ig1.onclick=function() {
				acuPonto('ig1');
			}
			ig2 = parent.document.getElementById('ig2');
			ig2.onclick=function() {
				acuPonto('ig2');
			}
			ig3 = parent.document.getElementById('ig3');
			ig3.onclick=function() {
				acuPonto('ig3');
			}
			ig4 = parent.document.getElementById('ig4');
			ig4.onclick=function() {
				acuPonto('ig4');
			}
			ig5 = parent.document.getElementById('ig5');
			ig5.onclick=function() {
				acuPonto('ig5');
			}
			ig6 = parent.document.getElementById('ig6');
			ig6.onclick=function() {
				acuPonto('ig6');
			}
			ig7 = parent.document.getElementById('ig7');
			ig7.onclick=function() {
				acuPonto('ig7');
			}
			ig8 = parent.document.getElementById('ig8');
			ig8.onclick=function() {
				acuPonto('ig8');
			}
			ig9 = parent.document.getElementById('ig9');
			ig9.onclick=function() {
				acuPonto('ig9');
			}
			ig10 = parent.document.getElementById('ig10');
			ig10.onclick=function() {
				acuPonto('ig10');
			}
			ig11 = parent.document.getElementById('ig11');
			ig11.onclick=function() {
				acuPonto('ig11');
			}
			ig12 = parent.document.getElementById('ig12');
			ig12.onclick=function() {
				acuPonto('ig12');
			}
			ig13 = parent.document.getElementById('ig13');
			ig13.onclick=function() {
				acuPonto('ig13');
			}
			ig14 = parent.document.getElementById('ig14');
			ig14.onclick=function() {
				acuPonto('ig14');
			}
			ig15 = parent.document.getElementById('ig15');
			ig15.onclick=function() {
				acuPonto('ig15');
			}
			ig16 = parent.document.getElementById('ig16');
			ig16.onclick=function() {
				acuPonto('ig16');
			}
			ig17 = parent.document.getElementById('ig17');
			ig17.onclick=function() {
				acuPonto('ig17');
			}
			ig18 = parent.document.getElementById('ig18');
			ig18.onclick=function() {
				acuPonto('ig18');
			}
			ig19 = parent.document.getElementById('ig19');
			ig19.onclick=function() {
				acuPonto('ig19');
			}
			ig20 = parent.document.getElementById('ig20');
			ig20.onclick=function() {
				acuPonto('ig20');
			}

			/* IN DES ÉCOUTEURS – POUMON */

			/* DÉBUT DES ÉCOUTEURS – ESTOMAC */
			e1 = parent.document.getElementById('e1');
			e1.onclick=function() {
				acuPonto('e1');
			}
			e2 = parent.document.getElementById('e2');
			e2.onclick=function() {
				acuPonto('e2');
			}
			e3 = parent.document.getElementById('e3');
			e3.onclick=function() {
				acuPonto('e3');
			}
			e4 = parent.document.getElementById('e4');
			e4.onclick=function() {
				acuPonto('e4');
			}
			e5 = parent.document.getElementById('e5');
			e5.onclick=function() {
				acuPonto('e5');
			}
			e6 = parent.document.getElementById('e6');
			e6.onclick=function() {
				acuPonto('e6');
			}
			e7 = parent.document.getElementById('e7');
			e7.onclick=function() {
				acuPonto('e7');
			}
			e8 = parent.document.getElementById('e8');
			e8.onclick=function() {
				acuPonto('e8');
			}
			e9 = parent.document.getElementById('e9');
			e9.onclick=function() {
				acuPonto('e9');
			}
			e10 = parent.document.getElementById('e10');
			e10.onclick=function() {
				acuPonto('e10');
			}
			e11 = parent.document.getElementById('e11');
			e11.onclick=function() {
				acuPonto('e11');
			}
			e12 = parent.document.getElementById('e12');
			e12.onclick=function() {
				acuPonto('e12');
			}
			e13 = parent.document.getElementById('e13');
			e13.onclick=function() {
				acuPonto('e13');
			}
			e14 = parent.document.getElementById('e14');
			e14.onclick=function() {
				acuPonto('e14');
			}
			e15 = parent.document.getElementById('e15');
			e15.onclick=function() {
				acuPonto('e15');
			}
			e16 = parent.document.getElementById('e16');
			e16.onclick=function() {
				acuPonto('e16');
			}
			e17 = parent.document.getElementById('e17');
			e17.onclick=function() {
				acuPonto('e17');
			}
			e18 = parent.document.getElementById('e18');
			e18.onclick=function() {
				acuPonto('e18');
			}
			e19 = parent.document.getElementById('e19');
			e19.onclick=function() {
				acuPonto('e19');
			}
			e20 = parent.document.getElementById('e20');
			e20.onclick=function() {
				acuPonto('e20');
			}
			e21 = parent.document.getElementById('e21');
			e21.onclick=function() {
				acuPonto('e21');
			}
			e22 = parent.document.getElementById('e22');
			e22.onclick=function() {
				acuPonto('e22');
			}
			e23 = parent.document.getElementById('e23');
			e23.onclick=function() {
				acuPonto('e23');
			}
			e24 = parent.document.getElementById('e24');
			e24.onclick=function() {
				acuPonto('e24');
			}
			e25 = parent.document.getElementById('e25');
			e25.onclick=function() {
				acuPonto('e25');
			}

			e26 = parent.document.getElementById('e26');
			e26.onclick=function() {
				acuPonto('e26');
			}
			e27 = parent.document.getElementById('e27');
			e27.onclick=function() {
				acuPonto('e27');
			}
			e28 = parent.document.getElementById('e28');
			e28.onclick=function() {
				acuPonto('e28');
			}
			e29 = parent.document.getElementById('e29');
			e29.onclick=function() {
				acuPonto('e29');
			}
			e30 = parent.document.getElementById('e30');
			e30.onclick=function() {
				acuPonto('e30');
			}
			e31 = parent.document.getElementById('e31');
			e31.onclick=function() {
				acuPonto('e31');
			}
			e32 = parent.document.getElementById('e32');
			e32.onclick=function() {
				acuPonto('e32');
			}
			e33 = parent.document.getElementById('e33');
			e33.onclick=function() {
				acuPonto('e33');
			}
			e34 = parent.document.getElementById('e34');
			e34.onclick=function() {
				acuPonto('e34');
			}
			e35 = parent.document.getElementById('e35');
			e35.onclick=function() {
				acuPonto('e35');
			}
			e36 = parent.document.getElementById('e36');
			e36.onclick=function() {
				acuPonto('e36');
			}
			e37 = parent.document.getElementById('e37');
			e37.onclick=function() {
				acuPonto('e37');
			}
			e38 = parent.document.getElementById('e38');
			e38.onclick=function() {
				acuPonto('e38');
			}
			e39 = parent.document.getElementById('e39');
			e39.onclick=function() {
				acuPonto('e39');
			}
			e40 = parent.document.getElementById('e40');
			e40.onclick=function() {
				acuPonto('e40');
			}
			e41 = parent.document.getElementById('e41');
			e41.onclick=function() {
				acuPonto('e41');
			}
			e42 = parent.document.getElementById('e42');
			e42.onclick=function() {
				acuPonto('e42');
			}
			e43 = parent.document.getElementById('e43');
			e43.onclick=function() {
				acuPonto('e43');
			}
			e44 = parent.document.getElementById('e44');
			e44.onclick=function() {
				acuPonto('e44');
			}
			e45 = parent.document.getElementById('e45');
			e45.onclick=function() {
				acuPonto('e45');
			}

			/* FIN DES ÉCOUTEURS – ESTOMAC */

// point isolé
cs7 = parent.document.getElementById('cs7');
cs7.onclick=function() {
	acuPonto('cs7');
}

init();
/* ici, la fonction init() est appelée ;
   le flux d’exécution du code entre dans cette fonction dès son appel,
   exécute toutes les instructions contenues dans init(),
   puis revient à ce point et poursuit l’exécution à la ligne 87 */

animate();
/* ici, la fonction animate() est appelée.
   Elle est exécutée juste après la fin complète de la fonction init().
   Comme on le verra dans son explication, animate() est une fonction récursive.
   Une fois appelée, le flux d’exécution ne la quitte plus,
   car elle s’appelle elle-même indéfiniment */

function init() {
	/* déclaration de la fonction init() :
	   comme son nom l’indique, son rôle est l’initialisation */

	container = document.createElement( 'div' );
	document.body.appendChild( container );
	/* ajoute le container au BODY du HTML,
	   dans ce cas, un élément DIV */

	camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.5, 2000 );
	/* déclare une caméra de type PerspectiveCamera */

	camera.position.z = 250;
	/* positionne initialement la caméra à 250 pixels devant le centre (0) */

	controls = new THREE.OrbitControls( camera );
	/* déclare les contrôles associés à la caméra (OrbitControls).
	   Permet de manipuler la caméra autour d’un objet :
	   - bouton droit : rotation autour de l’objet
	   - molette : zoom (axe Z)
	   - bouton gauche : déplacement global de la caméra
	   Cette fonctionnalité ne dispose pas de documentation officielle */

	controls.damping = 0.2;
	controls.addEventListener( 'change', render );

	scene = new THREE.Scene();
	/* crée un nouvel objet de type SCÈNE,
	   qui sert de support à la rendu,
	   et dans lequel seront ajoutés objets, lumières et caméras.
	   Voir https://threejs.org/docs/?q=scene#Reference/Scenes/Scene */

	var ambient = new THREE.AmbientLight( 0x101030 );
	/* crée une lumière ambiante de couleur 0x101030,
	   qui affecte globalement les objets de la scène,
	   comparable à une lumière solaire diffuse.
	   Le constructeur reçoit :
	   - une couleur RGB
	   - une intensité (omise ici, donc valeur par défaut)
	   Voir https://threejs.org/docs/?q=ambient#Reference/Lights/AmbientLight */

	scene.add( ambient );
	/* appelle la méthode add de la scène pour y ajouter la lumière ambiante

	   Résumé : ajoute la lumière ambiante à la scène
	*/

	var directionalLight = new THREE.DirectionalLight( 0xffeedd );
	/* stocke le résultat du constructeur DirectionalLight dans la variable directionalLight.
	   La couleur RGB 0xffeedd est passée en paramètre.
	   Cette lumière est directionnelle, comparable à une lampe.
	   Voir https://threejs.org/docs/?q=directional#Reference/Lights/DirectionalLight */

	directionalLight.position.set( 0, 0, 1 );
	/* définit la position de la lumière à (0, 0, 1),
	   soit une lumière parallèle à l’axe Z,
	   éclairant la scène de face */

	scene.add( directionalLight );
	/* ajoute la lumière directionnelle à la scène */

	var directionalLight = new THREE.DirectionalLight( 0xffeedd );
	directionalLight.position.set( 0, 0, -1 );
	/* identique à la précédente,
	   sauf que la direction est inversée (0, 0, -1),
	   la lumière éclaire donc par l’arrière */

	scene.add( directionalLight );
	/* ajoute la seconde lumière directionnelle à la scène */

	var geometry = new THREE.SphereGeometry( 0.3, 32, 32 );
	/* stocke dans geometry le résultat du constructeur SphereGeometry :

	   rayon — rayon de la sphère (0.3)
	   widthSegments — nombre de segments horizontaux (32)
	   heightSegments — nombre de segments verticaux (32)

	   Géométrie utilisée pour toutes les sphères du programme : les points d’acupuncture
	*/

	/* ci-dessous se trouvent les déclarations de toutes les sphères.
	   Elles sont analogues ; seules changent les positions et les noms */

	var object = new THREE.Mesh(
		geometry,
		new THREE.MeshLambertMaterial( { color: Math.random() * 0xffffff } )
	);
	/* voir https://threejs.org/docs/#Reference/Objects/Mesh */

	object.name = 'cs7';
	/* crée un attribut name,
	   utilisé pour faire la correspondance avec les boutons de la page parente,
	   afin d’ouvrir l’option correspondante lorsqu’on clique sur la sphère en 3D */

	object.position.x = -24.71516683000315;
	object.position.y = -6.555406638283143;
	object.position.z = 0.6;
	/* positions dans l’espace,
	   définies essentiellement par des tests successifs
	   et comparaison avec un référentiel */

	scene.add( object );
	/* ajoute le point d’acupuncture à la scène */

	/* ci-dessous, les autres sphères sont déclarées de la même manière,
	   seuls les noms et les positions changent */

	var geometry = new THREE.SphereGeometry( 0.3, 32, 32 );

				
/* DÉBUT DU MÉRIDIEN EXTRAORDINAIRE – VAISSEAU CONCEPTION (REN MAI) */

// VC1
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc1';
object.position.x = 0.05;
object.position.y = -9.0;
object.position.z = 6.0;
scene.add(object);

// VC2
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc2';
object.position.x = 0.05;
object.position.y = -6;
object.position.z = 6.4;
scene.add(object);

// VC3
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc3';
object.position.x = 0.05;
object.position.y = -2.9;
object.position.z = 7.1;
scene.add(object);

// VC4
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc4';
object.position.x = 0.05;
object.position.y = 0.2;
object.position.z = 7.17;
scene.add(object);

// VC5
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc5';
object.position.x = 0.05;
object.position.y = 3.3;
object.position.z = 7.25;
scene.add(object);

// VC6
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc6';
object.position.x = 0.05;
object.position.y = 6.4;
object.position.z = 7.3;
scene.add(object);

// VC7
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc7';
object.position.x = 0.05;
object.position.y = 9.5;
object.position.z = 7.2;
scene.add(object);

// VC8
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc8';
object.position.x = 0.05;
object.position.y = 12.7;
object.position.z = 6.1;
scene.add(object);

// VC9
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc9';
object.position.x = 0.05;
object.position.y = 15.9;
object.position.z = 6.1;
scene.add(object);

// VC10
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc10';
object.position.x = 0.05;
object.position.y = 18.4;
object.position.z = 6.38;
scene.add(object);

// VC11
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc11';
object.position.x = 0.05;
object.position.y = 20.9;
object.position.z = 6.38;
scene.add(object);

// VC12
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc12';
object.position.x = 0.05;
object.position.y = 23.4;
object.position.z = 6.58;
scene.add(object);

// VC13
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc13';
object.position.x = 0.05;
object.position.y = 25.9;
object.position.z = 6.6;
scene.add(object);

// VC14
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc14';
object.position.x = 0.05;
object.position.y = 28.4;
object.position.z = 5.95;
scene.add(object);

// VC15
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc15';
object.position.x = 0.05;
object.position.y = 30.9;
object.position.z = 5.06;
scene.add(object);

// VC16
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc16';
object.position.x = 0.05;
object.position.y = 33.4;
object.position.z = 4.9;
scene.add(object);

// VC17
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc17';
object.position.x = 0.05;
object.position.y = 36;
object.position.z = 4.7;
scene.add(object);

// VC18
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc18';
object.position.x = 0.05;
object.position.y = 38.6;
object.position.z = 3.6;
scene.add(object);

// VC19
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc19';
object.position.x = 0.05;
object.position.y = 41.2;
object.position.z = 2.4;
scene.add(object);

// VC20
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc20';
object.position.x = 0.05;
object.position.y = 43.8;
object.position.z = 1.2;
scene.add(object);

// VC21
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc21';
object.position.x = 0.05;
object.position.y = 46.4;
object.position.z = -0.9;
scene.add(object);

// VC22
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc22';
object.position.x = 0.05;
object.position.y = 49;
object.position.z = -2.1;
scene.add(object);

// VC23
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc23';
object.position.x = 0.02;
object.position.y = 56;
object.position.z = -0.2;
scene.add(object);

// VC24
var object = new THREE.Mesh(
    geometry,
    new THREE.MeshLambertMaterial({ color: 0xa742f4 })
);
object.name = 'vc24';
object.position.x = 0.02;
object.position.y = 60;
object.position.z = 5;
scene.add(object);

				/* FIN DU MÉRIDIEN EXTRAORDINAIRE – VAISSEAU DE CONCEPTION (REN MAI) */

				/* DÉBUT DU MÉRIDIEN DU POUMON (ZANG-FU)  */

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p1';
				object.position.x = -13.267798006864483;
				object.position.y = 46.00000000000004;
				object.position.z = -1.0999999999999999;

				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p2';
				object.position.x = -11.26779800686449;
				object.position.y = 48.60000000000008;
				object.position.z = -3.4000000000000026;

				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p3';
				object.position.x = -22.967798006864573;
				object.position.y = 32.39999999999985;
				object.position.z = -4.7;

				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p4';
				object.position.x = -23.56779800686458;
				object.position.y = 28.699999999999797;
				object.position.z = -4.999999999999999;

				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p5';
				object.position.x = -24.16779800686459;
				object.position.y = 15.69999999999962;
				object.position.z = -4.6000000000000005;

				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p6';
				object.position.x = -25.767798006864613;
				object.position.y = 7.499999999999648;
				object.position.z = -2.7000000000000015;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p7';
				object.position.x = -26.96779800686463;
				object.position.y = -1.5000000000003426;
				object.position.z = -1.5000000000000004;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p8';
				object.position.x = -26.26779800686462;
				object.position.y = -3.500000000000344;
				object.position.z = -0.5000000000000001;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p9';
				object.position.x = -27.367798006864636;
				object.position.y = -5.500000000000339;
				object.position.z = -0.30000000000000016;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p10';
				object.position.x = -27.66779800686464;
				object.position.y = -7.7000000000003315;
				object.position.z = 2.1000000000000005;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xf4e842 } ) );
				object.name = 'p11';
				object.position.x = -30.56779800686468;
				object.position.y = -13.200000000000312;
				object.position.z = 5.999999999999995;
				scene.add( object );

				/* FIM MERIDIANO Shou Tai Yin Fei Jing - PULMAO */

				/* INICIO MERIDIANO Shou Yang Ming Da Chang - INTESTINO GROSSO */

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig1';
				object.view = 1;
				object.position.x = 29.232201993135632;
				object.position.y = -20.00000000000036;
				object.position.z = 6.199999999999994;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig2';
				object.view = 1;
				object.position.x = 29.332201993135634;
				object.position.y = -14.700000000000307;
				object.position.z = 2.8000000000000007;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig3';
				object.view = 1;
				object.position.x = 29.532201993135637;
				object.position.y = -12.200000000000315;
				object.position.z = 1.7999999999999998;
				scene.add( object );
				
				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig4';
				object.view = -2;
				object.position.x = 29.532201993135637;
				object.position.y = -10.500000000000322;
				object.position.z = 0.39999999999999936;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig5';
				object.view = 1;
				object.position.x = 28.33220199313562;
				object.position.y = -6.800000000000335;
				object.position.z = 0.39999999999999925;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig6';
				object.view = 1;
				object.position.x = 28.032201993135615;
				object.position.y = -0.3000000000003421;
				object.position.z = -3.8000000000000025;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig7';
				object.view = 1;
				object.position.x = 27.832201993135612;
				object.position.y = 4.399999999999659;
				object.position.z = -6.399999999999994;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig8';
				object.view = 1;
				object.position.x = 27.73220199313561;
				object.position.y = 9.69999999999964;
				object.position.z = -8.099999999999989;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig9';
				object.view = 1;
				object.position.x = 27.532201993135608;
				object.position.y = 11.999999999999632;
				object.position.z = -8.799999999999986;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig10';
				object.view = 1;
				object.position.x = 27.232201993135604;
				object.position.y = 14.299999999999624;
				object.position.z = -9.299999999999985;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig11';
				object.view = 1;
				object.position.x = 27.0322019931356;
				object.position.y = 17.59999999999964;
				object.position.z = -8.799999999999986;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig12';
				object.view = 1;
				object.position.x = 26.632201993135595;
				object.position.y = 20.49999999999968;
				object.position.z = -8.599999999999987;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig13';
				object.view = 1;
				object.position.x = 26.432201993135592;
				object.position.y = 23.499999999999723;
				object.position.z = -9.299999999999985;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig14';
				object.view = 1;
				object.position.x = 24.73220199313557;
				object.position.y = 33.29999999999986;
				object.position.z = -7.599999999999991;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig15';
				object.view = 1;
				object.position.x = 20.432201993135507;
				object.position.y = 47.20000000000006;
				object.position.z = -5;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig16';
				object.view = 1;
				object.position.x = 18.132201993135475;
				object.position.y = 48.80000000000008;
				object.position.z = -6.499999999999995;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig17';
				object.position.x = 5.532201993135482;
				object.position.y = 54.10000000000016;
				object.position.z = -4.0000000000000036;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig18';
				object.position.x = 5.132201993135483;
				object.position.y = 56.100000000000186;
				object.position.z = -3.600000000000003;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig19';
				object.position.x = 0.9322019931354847;
				object.position.y = 62.400000000000276;
				object.position.z = 4.899999999999998;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x77f442 } ) );
				object.name = 'ig20';
				object.position.x = 1.9322019931354855;
				object.position.y = 62.90000000000028;
				object.position.z = 4.3;
				scene.add( object );

				/* FIN DU MÉRIDIEN DU GROS INTESTIN (Shou Yang Ming) */

				/* DÉBUT DU MÉRIDIEN DE L’ESTOMAC (Zu Yang Ming) */

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e1';
				object.position.x = -2.9677980068645167;
				object.position.y = 66.70000000000014;
				object.position.z = 3;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e2';
				object.position.x = -2.9677980068645167;
				object.position.y = 66.00000000000018;
				object.position.z = 3.2;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e3';
				object.position.x = -2.8677980068645166;
				object.position.y = 63.700000000000294;
				object.position.z = 3.8000000000000007;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e4';
				object.position.x = -2.7677980068645165;
				object.position.y = 61.10000000000026;
				object.position.z = 4.1000000000000005;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e5';
				object.view = -1;
				object.position.x = -3.367798006864517;
				object.position.y = 58.200000000000216;
				object.position.z = 2.4999999999999996;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e6';
				object.view = -1;
				object.position.x = -5.967798006864511;
				object.position.y = 61.30000000000026;
				object.position.z = -2.6000000000000028;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e7';
				object.view = -1;
				object.position.x = -6.467798006864509;
				object.position.y = 64.20000000000029;
				object.position.z = -2.700000000000003;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e8';
				object.view = -1;
				object.position.x = -6.26779800686451;
				object.position.y = 71.89999999999985;
				object.position.z = -2.700000000000003;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e9';
				object.position.x = -2.9677980068645167;
				object.position.y = 54.20000000000016;
				object.position.z = -2.3000000000000025;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e10';
				object.position.x = -2.267798006864516;
				object.position.y = 51.40000000000012;
				object.position.z = -2.2000000000000024;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e11';
				object.position.x = -2.9677980068645167;
				object.position.y = 47.600000000000065;
				object.position.z = -1.2000000000000015;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e12';
				object.position.x = -6.667798006864508;
				object.position.y = 48.60000000000008;
				object.position.z = -2.2000000000000024;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e13';
				object.position.x = -7.067798006864507;
				object.position.y = 47.600000000000065;
				object.position.z = -1.0000000000000013;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e14';
				object.position.x = -7.667798006864505;
				object.position.y = 44.800000000000026;
				object.position.z = 0.8999999999999986;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e15';
				object.position.x = -8.767798006864501;
				object.position.y = 42.29999999999999;
				object.position.z = 2.3999999999999995;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e16';
				object.position.x = -9.867798006864497;
				object.position.y = 38.89999999999994;
				object.position.z = 4.2;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e17';
				object.position.x = -12.06779800686449;
				object.position.y = 33.19999999999986;
				object.position.z = 4.999999999999997;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e18';
				object.position.x = -12.06779800686449;
				object.position.y = 30.199999999999818;
				object.position.z = 2.1999999999999993;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e19';
				object.position.x = -3.167798006864517;
				object.position.y = 25.699999999999754;
				object.position.z = 6.599999999999992;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e20';
				object.position.x = -3.167798006864517;
				object.position.y = 22.64727272727248;
				object.position.z = 6.699999999999991;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e21';
				object.position.x = -3.167798006864517;
				object.position.y = 19.59454545454521;
				object.position.z = 6.699999999999991;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e22';
				object.position.x = -3.167798006864517;
				object.position.y = 16.541818181817938;
				object.position.z = 6.499999999999992;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e23';
				object.position.x = -3.167798006864517;
				object.position.y = 13.489090909090663;
				object.position.z = 6.699999999999991;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e24';
				object.position.x = -3.167798006864517;
				object.position.y = 10.43636363636339;
				object.position.z = 7.09999999999999;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e25';
				object.position.x = -3.167798006864517;
				object.position.y = 7.383636363636118;
				object.position.z = 6.99999999999999;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e26';
				object.position.x = -3.167798006864517;
				object.position.y = 4.330909090908847;
				object.position.z = 6.899999999999991;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e27';
				object.position.x = -3.167798006864517;
				object.position.y = 1.2781818181815723;
				object.position.z = 6.599999999999992;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e28';
				object.position.x = -3.167798006864517;
				object.position.y = -1.7745454545457022;
				object.position.z = 6.299999999999993;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e29';
				object.position.x = -3.167798006864517;
				object.position.y = -4.827272727272973;
				object.position.z = 5.699999999999995;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e30';
				object.position.x = -3.167798006864517;
				object.position.y = -7.880000000000244;
				object.position.z = 4.599999999999999;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e31';
				object.position.x = -12.467798006864488;
				object.position.y = -11.280000000000232;
				object.position.z = 4.100000000000001;
				scene.add( object );


				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e32';
				object.position.x = -12.467798006864488;
				object.position.y = -28.48000000000039;
				object.position.z = 4.300000000000001;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e33';
				object.position.x = -12.467798006864488;
				object.position.y = -36.2800000000005;
				object.position.z = 2.900000000000001;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e34';
				object.position.x = -12.467798006864488;
				object.position.y = -38.98000000000054;
				object.position.z = 2.3000000000000003;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e35';
				object.position.x = -12.467798006864488;
				object.position.y = -47.18000000000065;
				object.position.z = 1.4999999999999996;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e36';
				object.position.x = -12.467798006864488;
				object.position.y = -53.18000000000074;
				object.position.z = -0.10000000000000153;
				scene.add( object );


				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e37';
				object.position.x = -12.467798006864488;
				object.position.y = -63.68000000000089;
				object.position.z = -0.7000000000000015;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e38';
				object.position.x = -11.76779800686449;
				object.position.y = -69.78000000000057;
				object.position.z = -1.6000000000000019;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e39';
				object.position.x = -11.367798006864492;
				object.position.y = -73.28000000000037;
				object.position.z = -1.9000000000000021;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e40';
				object.view = -1;
				object.position.x = -13.467798006864484;
				object.position.y = -69.48000000000059;
				object.position.z = -4.3000000000000025;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e41';
				object.position.x = -8.667798006864501;
				object.position.y = -85.1799999999997;
				object.position.z = -0.8000000000000016;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e42';
				object.position.x = -9.967798006864497;
				object.position.y = -88.27999999999952;
				object.position.z = 0.9999999999999983;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e43';
				object.position.x = -8.8677980068645;
				object.position.y = -90.97999999999936;
				object.position.z = 6.099999999999993;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e44';
				object.position.x = -9.467798006864498;
				object.position.y = -91.87999999999931;
				object.position.z = 7.799999999999988;
				scene.add( object );

				var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0x006aff } ) );
				object.name = 'e45';
				object.position.x = -9.967798006864497;
				object.position.y = -93.17999999999924;
				object.position.z = 11.299999999999976;
				scene.add( object );

/* FIN DU MÉRIDIEN ESTOMAC (Wei) – Zu Yang Ming Wei Jing */
var manager = new THREE.LoadingManager();
manager.onProgress = function ( item, loaded, total ) {

    console.log( item, loaded, total );
    /* Écrit dans la console du navigateur l’avancement du chargement */

};
/* Gestionnaire de chargement, voir https://threejs.org/docs/#Reference/Loaders/LoadingManager */

var texture = new THREE.Texture();

var onProgress = function ( xhr ) {
    if ( xhr.lengthComputable ) {
        var percentComplete = xhr.loaded / xhr.total * 100;
        console.log( Math.round(percentComplete, 2) + '% downloaded' );
    }
};
/* cette fonction sert à retourner le pourcentage de chargement de l’OBJET (corps humain) */

var onError = function ( xhr ) {
};

var loader = new THREE.ImageLoader( manager );
loader.load( 'three/textura/UV_Grid_Sm.jpg', function ( image ) {

    texture.image = image;
    texture.needsUpdate = true;

} );
/* Charge la texture, voir https://threejs.org/docs/#Reference/Loaders/ImageLoader */

var loader = new THREE.OBJLoader( manager );
/* instancie le chargeur d’objet, voir https://threejs.org/docs/#Reference/Loaders/OBJLoader */
var material = new THREE.MeshBasicMaterial({color: 'yellow', side: THREE.DoubleSide});
/* applique une couleur à l’objet – elle apparaît seulement sans texture */
loader.load( 'three/modelo/corpo.obj', function ( object ) {

    object.traverse( function ( child ) {

        if ( child instanceof THREE.Mesh ) {

            child.material.map = texture;

        }

    } );

    object.position.y = - 95;
    scene.add( object );

}, onProgress, onError );
/* charge l’objet corpo.obj et lui applique la texture */

raycaster = new THREE.Raycaster();
/* déclare la variable raycaster, instanciée par le constructeur Raycaster().
   Utilisée pour cliquer sur des objets 3D : cela fonctionne comme un rayon projeté
   le long de l’axe Z (le mouse travaille en 2 dimensions).
   Le raycaster vérifie, à partir de la position du mouse, le long de la ligne Z.
   Quand un objet est trouvé, il est ajouté à un vecteur d’INTERSECTIONS,
   permettant ainsi d’identifier quels objets se trouvent sur le trajet.
*/

renderer = new THREE.WebGLRenderer();
/* Le renderer WebGL affiche la scène en utilisant WebGL, si le dispositif le supporte. */

renderer.setPixelRatio( window.devicePixelRatio );
/* Définit le ratio de pixels du dispositif, obtenu via window.devicePixelRatio.
   Généralement utilisé pour les dispositifs HiDPI afin d’éviter le chevauchement d’images
   sur le CANVAS.
*/
renderer.setSize( window.innerWidth, window.innerHeight );
/* Définit la taille de la zone de rendu – ici la largeur et la hauteur de la fenêtre */

container.appendChild( renderer.domElement );
/* Insère l’élément CANVAS dans le container, où le WebGL sera rendu.
   La variable container a été déclarée à la ligne 91.
*/

document.addEventListener( 'mousemove', onDocumentMouseMove, false );

document.addEventListener( 'mousedown', onDocumentMouseDown, false );
/* Déclare un listener pour les événements de clic de souris.
   À chaque clic, la fonction onDocumentMouseDown est appelée. */
window.addEventListener( 'resize', onWindowResize, false );
}

function onWindowResize() {

    windowHalfX = window.innerWidth / 2;
    windowHalfY = window.innerHeight / 2;

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();

    renderer.setSize( window.innerWidth, window.innerHeight );

}

function onDocumentMouseMove( event ) {

    event.preventDefault();

    mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
    mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;

    mouseX = ( event.clientX - windowHalfX ) / 2;
    mouseY = ( event.clientY - windowHalfY ) / 2;

}

function onDocumentMouseDown( event ) {

    event.preventDefault();
    /* Annule toute action par défaut lors du clic de souris.
       Permet d’éviter un comportement inattendu et de traiter correctement le clic.
    */

    raycaster.setFromCamera( mouse, camera );
    /* Met à jour les informations FromCamera du raycaster où :
       mouse : coordonnées 2D de la souris
       camera : caméra d’origine du rayon
    */

    var intersects = raycaster.intersectObjects( scene.children );
    /*
        Exécute la méthode qui enregistre dans un tableau les objets rencontrés le long du rayon.
        scene.children : tous les objets à vérifier par le rayon.
        Ici on utilise scene.children pour inclure TOUS les objets (enfants de la scène).
    */
    console.log(intersects);
    if ( intersects.length > 0 ) {
        /* intersects.length retourne le nombre d’éléments.
           Si le nombre d’éléments est > 0 alors : */

        if ( INTERSECTED != intersects[ 0 ].object ) {
            /* si l’objet n’est pas en première position (car le corps humain est toujours présent)
               ALORS
            */
            INTERSECTED = intersects[ 0 ].object;
            /* stocke dans la variable INTERSECTED l’objet trouvé */
            mer = INTERSECTED.name.replace(/[0-9]+/,"");
            meridiano = parent.document.getElementById(mer);
            animacao = parent.document.getElementById(INTERSECTED.name);
            /* récupère et stocke dans animacao l’élément ayant l’ID égal au nom de la sphère */
            console.log();
            meridiano.click();
            animacao.click();
            /* clique automatiquement sur l’élément dont l’ID est égal au nom de la sphère,
               ouvrant ainsi dans la page parente le bouton lié à la sphère cliquée */
        }
    } else {
        /* sinon */
        /* met à jour la sphère à sa couleur par défaut,
           car le clic n’a pas été fait sur la dernière sphère cliquée */

        INTERSECTED = null;

    }
    console.log(camera.position.x, camera.position.y, camera.position.z);
    //console.log(teste);
}

function acuPonto(pto) {
/* déclaration de la fonction acuPonto, qui ne reçoit que les coordonnées où la caméra doit se rapprocher */
    if (obj_aux != null) {
        obj_aux.material.emissive.setHex( obj_aux.currentHex );
        /* via setHex on rétablit la couleur de la sphère au standard,
           stockée dans l’attribut .currentHex */
    }
    /* obj_aux est une variable auxiliaire pour stocker le dernier objet cliqué,
       afin de restaurer ensuite la couleur normale de la sphère */
    obj = scene.getObjectByName(pto);
    /* appelle la méthode qui recherche l’objet 3D par nom et le stocke dans obj */
    obj.currentHex = obj.material.emissive.getHex();
    /* récupère la valeur RGB de la couleur de l’objet
       et la stocke dans un nouvel attribut de la sphère : .currentHex */
    obj.material.emissive.setHex( 0xff0000 );
    /* change la couleur de la sphère en rouge via setHex */
    obj_aux = obj;
    /* stocke dans la variable globale obj_aux pour pouvoir y accéder
       et restaurer la couleur normale lors d’un nouveau clic. */

    acuX = obj.position.x
    acuY = obj.position.y;
    acuZ = obj.position.z;
    /* on attribue les valeurs X,Y,Z de l’objet aux variables globales acuX, acuY, acuZ
       pour l’utilisation dans focoCamera */

    if (obj.view == null) acuZF = 45;
    /* si l’objet n’a pas d’attribut VIEW, par défaut la marge est sur l’axe Z
       (la caméra se place à 45 pixels du point – frontal) */
    else if (obj.view == 1) acuXF = 45;
    /* si l’attribut VIEW vaut 1, c’est un point latéral droit,
       donc la marge est sur l’axe X (caméra à 45 pixels – latéral) */
    else if (obj.view == -1) acuXF = -45;
    /* si l’attribut VIEW vaut -1, c’est un point latéral gauche,
       donc la marge est sur l’axe X (caméra à -45 pixels – latéral) */
    else if (obj.view == -2) acuZF = -45;
    /* si l’attribut VIEW vaut -2, c’est un point arrière,
       donc la marge est sur l’axe Z (caméra à -45 pixels – arrière) */

    p.set( acuX, acuY, acuZ );
    /* p est un vecteur tridimensionnel déclaré à la ligne 41.
       Ici on met à jour ses coordonnées avec celles reçues par la fonction */

    focoCamera = true;
    /* ici on définit la variable globale focoCamera à TRUE,
       elle avait été déclarée FALSE à la ligne 39 */
}

function animate() {
    /* petite fonction avec deux instructions, mais responsable d’animer la caméra
       en s’appelant récursivement */
    requestAnimationFrame( animate );
    /* fonction native de JavaScript, introduite récemment.
       Elle résout plusieurs problèmes liés à setInterval(),
       en déléguant la gestion du temps et du matériel au navigateur.
       Cette commande permet d’exécuter une animation à X images par seconde,
       en passant une fonction qui sera ré-exécutée indéfiniment –
       ici la fonction animate s’appelle récursivement. */
    render();
    /* appelle la fonction render avec les valeurs mises à jour,
       créant ainsi une animation image par image */
}

function render() {
    /* fonction responsable de rendre la scène
       ATTENTION : dans cette fonction, acuXF, acuYF, acuZF sont les variables de MARGE
       pour éloigner la caméra des points (frontal, arrière, latéral droit et gauche).
       Leurs valeurs sont définies dans la fonction acuPonto().
       Si un point est frontal : (acuZF = 45; acuYF = 0; acuXF = 0)
       Si un point est arrière : (acuZF = -45; acuYF = 0; acuXF = 0)
       Si un point est latéral droit : (acuZF = 0; acuYF = 0; acuXF = 45)
       Si un point est latéral gauche : (acuZF = 0; acuYF = 0; acuXF = -45)
    */
    renderer.render( scene, camera );
    /* rend une scène en utilisant une caméra, ici scene et camera */
    if (focoCamera) { // SI (focoCamera == TRUE) alors
        /* variable globale définie à TRUE lorsqu’une sphère est cliquée
           ou lorsqu’un bouton correspondant à un acupoint est cliqué dans la barre latérale.
           C’est la structure conditionnelle qui déclenche l’animation de la caméra */
        if (camera.position.x != acuX+acuXF) { /* Si la position de la caméra sur l’axe X est différente
                                                  du point cible ALORS */
            if (camera.position.x > acuX+acuXF) { // si la position X de la caméra est plus grande que la valeur cible
                camera.position.x--; // décrémente de 1 l’axe X de la caméra
            } else { // sinon
                camera.position.x++; // incrémente de 1 l’axe X de la caméra
            }
            if (Math.round(camera.position.x) == Math.round(acuX+acuXF)) {
                // Si la valeur entière de la position X de la caméra est égale à celle du point cible
                camera.position.x = acuX+acuXF;
                // la position X de la caméra reçoit la valeur exacte du point
            }
        }

        if (camera.position.y != acuY) {
            /* Si la position de la caméra sur l’axe Y est différente du point cible ALORS */
            if (camera.position.y > acuY) { // si la position Y est plus grande que la valeur cible
                camera.position.y--; // décrémente de 1 la position Y de la caméra
            } else {
                camera.position.y++; // incrémente de 1 la position Y de la caméra
            }

            if (Math.round(camera.position.y) == Math.round(acuY)) {
                // Si la valeur entière de la position Y de la caméra est égale à celle du point cible
                camera.position.y = acuY;
                // la position Y de la caméra reçoit la valeur exacte du point
            }
        }

        if (camera.position.z != acuZ+acuZF) {
            /* Si la position de la caméra sur l’axe Z est différente du point cible Z+45
               (+45 car la caméra doit rester un peu éloignée du point) ALORS */
            if (camera.position.z > acuZ+acuZF) { // si la position Z est plus grande que la valeur cible
                camera.position.z--; // décrémente de 1 la position Z de la caméra
            } else {
                camera.position.z++; // incrémente de 1 la position Z de la caméra
            }
            if (Math.round(camera.position.z) == Math.round(acuZ+acuZF)) {
                // Si la valeur entière de la position Z de la caméra est égale à celle du point cible Z+45
                camera.position.z = acuZ+acuZF;
                // la position Z de la caméra reçoit la valeur exacte du point
            }
        }
        if ((camera.position.z == acuZ+acuZF)&&(camera.position.y == acuY)&&(camera.position.x == acuX+acuXF)) {
            acuZF = 0;
            acuYF = 0;
            acuXF = 0;
            focoCamera = false;
            controls.target = p;
            return;
        } /* si toutes les conditions sont satisfaites, c’est-à-dire que la caméra est exactement
             au point sélectionné (sauf Z, qui est Z+45 pour éviter que la caméra soit collée),
             alors on passe focoCamera à FALSE. Ainsi, lors du prochain appel à render,
             la condition ne sera plus vraie et l’animation s’arrêtera.
             La seule façon de remettre focoCamera à TRUE est de cliquer sur un acupoint
             ou sur un bouton dans la barre latérale. */
        camera.lookAt( p );
        /* lookAt(p) : p contient les coordonnées du point ciblé (où la caméra doit se rapprocher).
           On appelle donc la méthode lookAt(p) de la caméra,
           qui prend un vecteur 3D (ici p) pour que la caméra “regarde” le point
           pendant qu’elle se rapproche (rend l’animation plus agréable et centrée). */
    }
}

		</script>
	</body>
</html>
