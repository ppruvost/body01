<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <title>RadiesthÃ©sie</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSS -->
  <link href="css/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="css/sidebar.css" rel="stylesheet"/>
  <link href="css/light.css" rel="stylesheet"/>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Questria&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>

  <style>
    body { font-family: 'Questria', sans-serif; }
    .tree-menu,
    .tree-menu ul {
      list-style: none;
      padding-left: 0;
    }
    .tree-menu .label {
      cursor: pointer;
      font-weight: bold;
      margin: 8px 0;
    }
    .submenu {
      display: none;
      padding-left: 20px;
    }
    .open > .submenu {
      display: block;
    }
    .submenu li {
      cursor: pointer;
      padding: 4px 0;
    }
    .submenu li.active {
      font-weight: bold;
      color: #007bff;
    }
  </style>
</head>

<body>
<div class="container py-4">
  <h3>Soins Ã©nergÃ©tiques par radiesthÃ©sie</h3>
<!-- 3 colonnes -->
<div class="container-fluid">
  <div class="row">

    <!-- Colonne 1 : Arborescence -->
    <div class="col-md-3">
      <ul class="tree-menu">

        <!-- MÃ©ridien du Poumon -->
        <li>
          <div class="label">
            <i class="fas fa-chevron-right"></i> MÃ©ridien du poumon
          </div>

          <ul class="submenu">
            <li class="load-content" data-id="p1" data-title="P1 â€“ MÃ©moires Ã©motionnelles lourdes" data-file="poumon.html">P1 â€“ MÃ©moires Ã©motionnelles lourdes</li>
            <li class="load-content" data-id="p2" data-title="P2 â€“ Oppression Ã©motionnelle" data-file="poumon.html">P2 â€“ Oppression Ã©motionnelle</li>
            <li class="load-content" data-id="p3" data-title="P3 â€“ Perte de sens" data-file="poumon.html">P3 â€“ Perte de sens</li>
            <li class="load-content" data-id="p4" data-title="P4 â€“ Accumulation dâ€™Ã©motions non exprimÃ©es" data-file="poumon.html">P4 â€“ Accumulation dâ€™Ã©motions non exprimÃ©es</li>
            <li class="load-content" data-id="p5" data-title="P5 â€“ ColÃ¨re refoulÃ©e derriÃ¨re la tristesse" data-file="poumon.html">P5 â€“ ColÃ¨re refoulÃ©e derriÃ¨re la tristesse</li>
            <li class="load-content" data-id="p6" data-title="P6 â€“ Choc Ã©motionnel ancien" data-file="poumon.html">P6 â€“ Choc Ã©motionnel ancien</li>
            <li class="load-content" data-id="p7" data-title="P7 â€“ DifficultÃ© Ã  lÃ¢cher prise" data-file="poumon.html">P7 â€“ DifficultÃ© Ã  lÃ¢cher prise</li>
            <li class="load-content" data-id="p8" data-title="P8 â€“ Respiration courte" data-file="poumon.html">P8 â€“ Respiration courte</li>
            <li class="load-content" data-id="p9" data-title="P9 â€“ Vide intÃ©rieur" data-file="poumon.html">P9 â€“ Vide intÃ©rieur</li>
            <li class="load-content" data-id="p10" data-title="P10 â€“ HypersensibilitÃ©" data-file="poumon.html">P10 â€“ HypersensibilitÃ©</li>
            <li class="load-content" data-id="p11" data-title="P11 â€“ Reset Ã©nergÃ©tique" data-file="poumon.html">P11 â€“ Reset Ã©nergÃ©tique</li>
          </ul>
        </li>

        <!-- MÃ©ridien du Gros intestin -->
        <li>
          <div class="label">
            <i class="fas fa-chevron-right"></i> MÃ©ridien du Gros intestin
          </div>

          <ul class="submenu">
            <li class="load-content" data-id="ig1" data-title="IG1 â€“ Refus intÃ©rieur ancien">IG1 â€“ Refus intÃ©rieur ancien</li>
            <li class="load-content" data-id="ig2" data-title="IG2 â€“ Irritation Ã©motionnelle non exprimÃ©e">IG2 â€“ Irritation Ã©motionnelle non exprimÃ©e</li>
            <li class="load-content" data-id="ig3" data-title="IG3 â€“ Confusion dans le tri Ã©motionnel">IG3 â€“ Confusion dans le tri Ã©motionnel</li>
            <li class="load-content" data-id="ig4" data-title="IG4 â€“ MÃ©moires de contraintes et de contrÃ´le">IG4 â€“ MÃ©moires de contraintes et de contrÃ´le</li>
            <li class="load-content" data-id="ig5" data-title="IG5 â€“ RÃ©sistance subtile au changement">IG5 â€“ RÃ©sistance subtile au changement</li>
            <li class="load-content" data-id="ig6" data-title="IG6 â€“ Tristesse ancienne cristallisÃ©e">IG6 â€“ Tristesse ancienne cristallisÃ©e</li>
            <li class="load-content" data-id="ig7" data-title="IG7 â€“ Accumulation Ã©motionnelle latente">IG7 â€“ Accumulation Ã©motionnelle latente</li>
            <li class="load-content" data-id="ig8" data-title="IG8 â€“ Usure intÃ©rieure par lutte prolongÃ©e">IG8 â€“ Usure intÃ©rieure par lutte prolongÃ©e</li>
            <li class="load-content" data-id="ig9" data-title="IG9 â€“ RigiditÃ© Ã©motionnelle profonde">IG9 â€“ RigiditÃ© Ã©motionnelle profonde</li>
            <li class="load-content" data-id="ig10" data-title="IG10 â€“ Vide Ã©nergÃ©tique aprÃ¨s surcharge">IG10 â€“ Vide Ã©nergÃ©tique aprÃ¨s surcharge</li>
            <li class="load-content" data-id="ig11" data-title="IG11 â€“ LibÃ©ration des mÃ©moires toxiques">IG11 â€“ LibÃ©ration des mÃ©moires toxiques</li>
            <li class="load-content" data-id="ig12" data-title="IG12 â€“ Blocage dans lâ€™Ã©lan intÃ©rieur">IG12 â€“ Blocage dans lâ€™Ã©lan intÃ©rieur</li>
            <li class="load-content" data-id="ig13" data-title="IG13 â€“ DÃ©salignement entre volontÃ© et capacitÃ©">IG13 â€“ DÃ©salignement entre volontÃ© et capacitÃ©</li>
            <li class="load-content" data-id="ig14" data-title="IG14 â€“ Poids Ã©motionnel hÃ©ritÃ©">IG14 â€“ Poids Ã©motionnel hÃ©ritÃ©</li>
            <li class="load-content" data-id="ig15" data-title="IG15 â€“ Charges Ã©motionnelles imposÃ©es">IG15 â€“ Charges Ã©motionnelles imposÃ©es</li>
            <li class="load-content" data-id="ig16" data-title="IG16 â€“ DifficultÃ© Ã  changer de rÃ´le">IG16 â€“ DifficultÃ© Ã  changer de rÃ´le</li>
            <li class="load-content" data-id="ig17" data-title="IG17 â€“ VÃ©ritÃ© intÃ©rieure retenue">IG17 â€“ VÃ©ritÃ© intÃ©rieure retenue</li>
            <li class="load-content" data-id="ig18" data-title="IG18 â€“ Conflit entre cÅ“ur et expression">IG18 â€“ Conflit entre cÅ“ur et expression</li>
            <li class="load-content" data-id="ig19" data-title="IG19 â€“ Paroles non dites ou blessantes">IG19 â€“ Paroles non dites ou blessantes</li>
            <li class="load-content" data-id="ig20" data-title="IG20 â€“ FrontiÃ¨re Ã©nergÃ©tique avec le monde">IG20 â€“ FrontiÃ¨re Ã©nergÃ©tique avec le monde</li>
          </ul>
        </li>

        <!-- Menus gÃ©nÃ©riques -->
        <li>
          <div class="label"><i class="fas fa-chevron-right"></i> Menu 3</div>
          <ul class="submenu">
            <li>Sous-menu 3.1</li>
            <li>Sous-menu 3.2</li>
            <li>Sous-menu 3.3</li>
          </ul>
        </li>

        <!-- (menus 4 Ã  12 inchangÃ©s) -->

      </ul>
    </div>

    <!-- Colonne 2 : Contenu dynamique -->
    <div class="col-md-5" id="contenu">
      <hr>
      <h2 id="dynamic-title"></h2>
      <div id="content-p"></div>
    </div>

    <!-- Colonne 3 : iframe -->
    <div class="col-md-4">
      <iframe src="acu.html" style="width:100%; height:100vh; border:none;"></iframe>
    </div>

  </div>
</div>
<!-- FIN du code HTML principal des colonnes -->


    <!------------ Scrpits  DÃ©but------------------------------>
<script>
document.addEventListener('DOMContentLoaded', () => {

  /* Ouverture / fermeture des menus */
  document.querySelectorAll('.tree-menu .label').forEach(label => {
    label.addEventListener('click', () => {
      const parent = label.parentElement;

      document.querySelectorAll('.tree-menu > li').forEach(li => {
        if (li !== parent) li.classList.remove('open');
      });

      parent.classList.toggle('open');
    });
  });

  /* Chargement dynamique */
  document.querySelectorAll('.load-content').forEach(item => {
    item.addEventListener('click', e => {
      e.stopPropagation();

      document.querySelectorAll('.load-content')
        .forEach(li => li.classList.remove('active'));

      item.classList.add('active');

      const id = item.dataset.id;
      const title = item.dataset.title;
      const file = item.dataset.file;

      document.getElementById('dynamic-title').textContent = title;

      fetch(file)
        .then(res => res.text())
        .then(html => {
          const doc = new DOMParser().parseFromString(html, 'text/html');
          const content = doc.getElementById(id);

          document.getElementById('content-p').innerHTML =
            content ? content.innerHTML : '<p>Contenu introuvable.</p>';
        })
        .catch(() => {
          document.getElementById('content-p').innerHTML =
            '<p>Erreur de chargement.</p>';
        });
    });
  });

});

  /* ====== RÃ©ception message depuis acu.html ====== */
window.addEventListener("message", event => {

  if (!event.data || event.data.type !== "selectPoint") return;

  const pointId = event.data.point;

  /* ðŸ”¹ 1. Ouvrir le menu colonne 1 */
  const menuItem = document.querySelector(
    `.load-content[data-id="${pointId}"]`
  );

  if (menuItem) {
    const parentMenu = menuItem.closest('.tree-menu > li');

    if (parentMenu) {
      document.querySelectorAll('.tree-menu > li')
        .forEach(li => li.classList.remove('open'));

      parentMenu.classList.add('open');
    }

    /* ðŸ”¹ 2. Simuler le clic â†’ charge colonne 2 */
    menuItem.click();
  }

});

</script>

 <!---------------Script Fin------------------------>
</body>
</html>
